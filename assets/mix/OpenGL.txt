
Еще один способ передать данные в буфер — это узнать указатель на память буфера, и напрямую скопировать данные в буфер самостоятельно. По вызову функции glMapBuffer OpenGL возвращает указатель на память текущего связанного буфера, чтобы работать с ним:

[code lang=cpp]

float data[] = {
0.5f, 1.0f, -0.35f
...
};
glBindBuffer(GL_ARRAY_BUFFER, buffer);
// получаем указатель
void *ptr = glMapBuffer(GL_ARRAY_BUFFER, GL_WRITE_ONLY);
// копируем данные в память
memcpy(ptr, data, sizeof(data));
// говорим OpenGL, что мы закончили работу с указателем
glUnmapBuffer(GL_ARRAY_BUFFER);

[/code]


OpenGL знает, что мы закончили работу с указателем, как только мы сообщаем ему это с помощью функции glUnmapBuffer. После выполнения этой функции, указатель становится недействительным, и функция возвращает GL_TRUE, если OpenGL успешно разместил ваши данные в буфере.
